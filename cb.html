

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Checkbox Example</title>
</head>
<body>

  <label>
    <input type="checkbox" name="pets" value="cat">
    Cat
  </label><br>

  <label>
    <input type="checkbox" name="pets" value="dog">
    Dog
  </label><br>

  <label>
    <input type="checkbox" name="pets" value="fish">
    Fish
  </label><br>

  <label>
    <input type="checkbox" name="pets" value="all" onchange="handleAllCheckboxChange(this)">
    All
  </label><br>

  <script>
    function handleAllCheckboxChange(checkbox) {
      const otherCheckboxes = document.querySelectorAll('input[type="checkbox"][name="pets"]:not([value="all"])');
      if (checkbox.checked) {
        otherCheckboxes.forEach(cb => {
          cb.disabled = true;
          cb.checked = false;
        });
      } else {
        otherCheckboxes.forEach(cb => {
          cb.disabled = false;
        });
      }
    }

    const otherCheckboxes = document.querySelectorAll('input[type="checkbox"][name="pets"]:not([value="all"])');
    otherCheckboxes.forEach(cb => {
      cb.addEventListener('change', () => {
        const allCheckbox = document.querySelector('input[type="checkbox"][name="pets"][value="all"]');
        if (otherCheckboxesChecked()) {
          allCheckbox.disabled = true;
          allCheckbox.checked = false;
        } else {
          allCheckbox.disabled = false;
        }
      });
    });

    function otherCheckboxesChecked() {
      const otherCheckboxes = document.querySelectorAll('input[type="checkbox"][name="pets"]:not([value="all"])');
      for (let i = 0; i < otherCheckboxes.length; i++) {
        if (otherCheckboxes[i].checked) {
          return true;
        }
      }
      return false;
    }
  </script>

</body>
</html>
